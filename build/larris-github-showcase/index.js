(()=>{"use strict";var e,r={769:()=>{const e=window.wp.blocks,r=window.wp.i18n,t=window.wp.blockEditor,s=window.wp.components,o=window.wp.element,i=window.ReactJSXRuntime,a=JSON.parse('{"UU":"create-block/larris-github-showcase"}');(0,e.registerBlockType)(a.UU,{edit:function(e){const{attributes:a,setAttributes:n}=e,{repoLink:l,repoData:c,repoPage:h}=a,[p,u]=(0,o.useState)(!1),[d,b]=(0,o.useState)(null);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.InspectorControls,{children:(0,i.jsxs)(s.PanelBody,{title:(0,r.__)("GitHub Repository","larris-github-showcase"),children:[(0,i.jsx)(s.TextControl,{label:(0,r.__)("GitHub Repo Link","larris-github-showcase"),value:l,onChange:e=>n({repoLink:e})}),(0,i.jsx)(s.TextControl,{label:"Page about the repository",help:"Enter the URL of the page that provides detailed information or a case study about this repository.",value:h,onChange:e=>n({repoPage:e})}),(0,i.jsx)(s.Button,{variant:"primary",onClick:()=>{l&&(async e=>{try{const r=/^https?:\/\/github\.com\/([^/]+)\/([^/]+)\/?$/,t=e.match(r);if(!t)throw new Error("Invalid GitHub URL");const s=t[1],o=t[2];u(!0),b(null);const i=await(`https://api.github.com/repos/${s}/${o}`),a=await fetch(i);if(!a.ok)throw new Error(`GitHub API Error: ${a.status}`);const l=await a.json();n({repoData:{name:l.name,description:l.description,stars:l.stargazers_count,forks:l.forks_count,api_url:`https://api.github.com/repos/${s}/${o}`}})}catch(e){b(e.message),n({repoData:null})}finally{u(!1)}})(l)},style:{marginTop:"1em"},children:(0,r.__)("Fetch Repository","larris-github-showcase")})]})}),(0,i.jsx)("div",{...(0,t.useBlockProps)(),children:p?(0,i.jsx)(s.Spinner,{}):d?(0,i.jsx)("p",{style:{color:"red"},children:d}):c?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"name-info-container",children:[(0,i.jsx)("h4",{className:"repo-name",children:(0,i.jsx)("a",{href:c.html_url,target:"_blank",rel:"noopener noreferrer",children:c.name.replace(/-/g," ").replace(/\b\w/g,(e=>e.toUpperCase()))})}),(0,i.jsxs)("div",{className:"info-container",children:[(0,i.jsxs)("p",{children:["⭐ Stars: ",c.stars]}),(0,i.jsxs)("p",{children:["🍴 Forks: ",c.forks]})]})]}),(0,i.jsx)("p",{children:c.description}),(0,i.jsxs)("div",{className:"btn-container",children:[(0,i.jsx)("button",{children:"Visit Repository"}),h&&""!==h.trim()?(0,i.jsx)("button",{children:"Case Study"}):""]})]}):(0,i.jsx)("p",{children:"No repo data. Please fetch a repo."})})]})}})}},t={};function s(e){var o=t[e];if(void 0!==o)return o.exports;var i=t[e]={exports:{}};return r[e](i,i.exports,s),i.exports}s.m=r,e=[],s.O=(r,t,o,i)=>{if(!t){var a=1/0;for(h=0;h<e.length;h++){for(var[t,o,i]=e[h],n=!0,l=0;l<t.length;l++)(!1&i||a>=i)&&Object.keys(s.O).every((e=>s.O[e](t[l])))?t.splice(l--,1):(n=!1,i<a&&(a=i));if(n){e.splice(h--,1);var c=o();void 0!==c&&(r=c)}}return r}i=i||0;for(var h=e.length;h>0&&e[h-1][2]>i;h--)e[h]=e[h-1];e[h]=[t,o,i]},s.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e={813:0,625:0};s.O.j=r=>0===e[r];var r=(r,t)=>{var o,i,[a,n,l]=t,c=0;if(a.some((r=>0!==e[r]))){for(o in n)s.o(n,o)&&(s.m[o]=n[o]);if(l)var h=l(s)}for(r&&r(t);c<a.length;c++)i=a[c],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(h)},t=globalThis.webpackChunklarris_github_showcase=globalThis.webpackChunklarris_github_showcase||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))})();var o=s.O(void 0,[625],(()=>s(769)));o=s.O(o)})();